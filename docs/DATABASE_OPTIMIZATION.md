# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## üì¶ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª—É—á—à–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ç–±–æ—Ä–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–º—É –∏–∑ —É—Å–ª–æ–≤–∏–π:

- ‚úÖ –ö–æ–º–∏—Å—Å–∏—è ‚â• 15%
- ‚úÖ –î–ª–∏–Ω–∞ cookie ‚â• 30 –¥–Ω–µ–π
- ‚úÖ –í—Ö–æ–¥—è—Ç –≤ —Ç–æ–ø–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
  - Software & Services
  - Business & Investing
  - Digital Products
  - Online Education
  - Marketing & SEO
  - Health & Fitness
  - Beauty & Personal Care
  - Home & Garden

- ‚úÖ –í—Ö–æ–¥—è—Ç –≤ —Ç–æ–ø–æ–≤—ã–µ —Å–µ—Ç–∏:
  - ShareASale
  - CJ Affiliate
  - Awin
  - ClickBank
  - Rakuten Advertising
  - Amazon Associates

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. –ê–Ω–∞–ª–∏–∑ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ:

```bash
npm run db:optimize
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:

- –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≥—Ä–∞–º–º
- –°–∫–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–∞–º–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –ß—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
- –ü—Ä–æ–≥–Ω–æ–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### 2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è!

```bash
npm run db:optimize:execute
```

–≠—Ç–æ:

- –£–¥–∞–ª–∏—Ç –≤—Å–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –û—á–∏—Å—Ç–∏—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫–ª–∏–∫–∏, –æ—Ç–∑—ã–≤—ã, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
- –û—Å—Ç–∞–≤–∏—Ç –º–∞–∫—Å–∏–º—É–º 500 –ª—É—á—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- üìâ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–º–µ–Ω—å—à–∏—Ç—Å—è –Ω–∞ 90-95%
- üìà –°—Ä–µ–¥–Ω—è—è –∫–æ–º–∏—Å—Å–∏—è –ø—Ä–æ–≥—Ä–∞–º–º –≤—ã—Ä–∞—Å—Ç–µ—Ç
- ‚ö° –ó–∞–ø—Ä–æ—Å—ã —Å—Ç–∞–Ω—É—Ç –±—ã—Å—Ç—Ä–µ–µ
- üí∞ –û—Å—Ç–∞–Ω—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

---

## üì• –ü–∞–∫–µ—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–∞–º–º

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–∞—Ä—Ç–∏—è–º–∏ –∏–∑ JSON —Ñ–∞–π–ª–æ–≤.

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ —Ñ–∞–π–ª–∞

```bash
npm run db:import:example
```

–°–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `scripts/example-batch.json` —Å –ø—Ä–∏–º–µ—Ä–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

```json
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–∏–∏",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä—Ç–∏–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)",
  "programs": [
    {
      "networkName": "ShareASale",
      "externalId": "unique-id-123",
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã",
      "description": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
      "category": "Software & Services",
      "commissionRate": 50,
      "commissionType": "CPS",
      "cookieDuration": 90,
      "paymentThreshold": 50,
      "paymentMethods": ["PayPal", "Bank Transfer"],
      "active": true
    }
  ]
}
```

### –ü–æ–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã

| –ü–æ–ª–µ               | –¢–∏–ø     | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| ------------------ | ------- | ------------ | ------------------------------------ |
| `networkName`      | string  | ‚úÖ           | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–æ–π —Å–µ—Ç–∏            |
| `externalId`       | string  | ‚úÖ           | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤ —Å–µ—Ç–∏                 |
| `name`             | string  | ‚úÖ           | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã                   |
| `description`      | string  | ‚ùå           | –û–ø–∏—Å–∞–Ω–∏–µ                             |
| `category`         | string  | ‚ùå           | –ö–∞—Ç–µ–≥–æ—Ä–∏—è                            |
| `commissionRate`   | number  | ‚ùå           | % –∫–æ–º–∏—Å—Å–∏–∏                           |
| `commissionType`   | string  | ‚ùå           | –¢–∏–ø: CPS, CPA, CPL (default: CPS)    |
| `cookieDuration`   | number  | ‚ùå           | –î–ª–∏–Ω–∞ cookie –≤ –¥–Ω—è—Ö (default: 30)    |
| `paymentThreshold` | number  | ‚ùå           | –ú–∏–Ω–∏–º—É–º –¥–ª—è –≤—ã–ø–ª–∞—Ç—ã                  |
| `paymentMethods`   | array   | ‚ùå           | –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã                       |
| `active`           | boolean | ‚ùå           | –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ (default: true) |

### –ò–º–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–∞–º–º

```bash
npm run db:import –ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.json
```

–ò–ª–∏:

```bash
npx tsx scripts/batch-import-programs.ts –º–æ–∏-–ø—Ä–æ–≥—Ä–∞–º–º—ã.json
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

1. ‚úÖ –ß–∏—Ç–∞–µ—Ç—Å—è JSON —Ñ–∞–π–ª
2. ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã:
   - –ù–∞—Ö–æ–¥–∏—Ç—Å—è –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–µ—Ç—å
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–ø–æ networkId + externalId)
   - –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–æ–≤–∞—è - –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è
   - –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
3. ‚úÖ –í—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ
   - –ü—Ä–æ–ø—É—â–µ–Ω–æ (–¥—É–±–ª–∏)
   - –û—à–∏–±–æ–∫

---

## üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π

1. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã** (–æ–¥–∏–Ω —Ä–∞–∑):

   ```bash
   # –°–Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑
   npm run db:optimize

   # –ï—Å–ª–∏ –≤—Å—ë –æ–∫ - –≤—ã–ø–æ–ª–Ω—è–µ–º
   npm run db:optimize:execute
   ```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Ç–∏–π –ø—Ä–æ–≥—Ä–∞–º–º**:

   ```bash
   # –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–º–µ—Ä
   npm run db:import:example

   # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º scripts/example-batch.json
   # –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
   ```

3. **–ò–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º**:
   ```bash
   npm run db:import scripts/example-batch.json
   ```

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
scripts/
  batches/
    2025-01-crypto.json     # –ö—Ä–∏–ø—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã
    2025-01-saas.json       # SaaS –ø—Ä–æ–≥—Ä–∞–º–º—ã
    2025-01-education.json  # –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
```

–ó–∞—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ –æ–¥–Ω–æ–º—É:

```bash
npm run db:import scripts/batches/2025-01-crypto.json
npm run db:import scripts/batches/2025-01-saas.json
npm run db:import scripts/batches/2025-01-education.json
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –±–∞–∑—ã –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `db:optimize` –ø–µ—Ä–µ–¥ `db:optimize:execute`
- –ò–º–ø–æ—Ä—Ç –±–µ–∑–æ–ø–∞—Å–µ–Ω - –¥—É–±–ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –∑–∞–Ω–∏–º–∞–µ—Ç 1-5 –º–∏–Ω—É—Ç
- –ò–º–ø–æ—Ä—Ç 100 –ø—Ä–æ–≥—Ä–∞–º–º ~ 10-30 —Å–µ–∫—É–Ω–¥
- –ò–º–ø–æ—Ä—Ç 1000+ –ø—Ä–æ–≥—Ä–∞–º–º ~ 2-5 –º–∏–Ω—É—Ç

### –õ–∏–º–∏—Ç—ã

- –ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ–≥—Ä–∞–º–º –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: **500**
- –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `scripts/optimize-database.ts`:
  ```typescript
  const QUALITY_CRITERIA = {
    maxPrograms: 500, // –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ
    // ...
  };
  ```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–∏—Ç—å 10 –∫—Ä–∏–ø—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º

```json
{
  "name": "–¢–æ–ø –∫—Ä–∏–ø—Ç–æ –±–∏—Ä–∂–∏ 2025",
  "description": "–õ—É—á—à–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂",
  "programs": [
    {
      "networkName": "CJ Affiliate",
      "externalId": "binance-001",
      "name": "Binance Affiliate",
      "category": "Cryptocurrency",
      "commissionRate": 40,
      "cookieDuration": 30
    }
    // ... –µ—â–µ 9 –ø—Ä–æ–≥—Ä–∞–º–º
  ]
}
```

### –ü—Ä–∏–º–µ—Ä 2: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏

```bash
# –®–∞–≥ 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–æ—Å—Ç–∞–≤–ª—è–µ—Ç ~500 –ª—É—á—à–∏—Ö)
npm run db:optimize:execute

# –®–∞–≥ 2: –î–æ–±–∞–≤–ª—è–µ–º —Å–≤–æ–∏ 50 –ø—Ä–æ–≥—Ä–∞–º–º
npm run db:import scripts/my-programs.json

# –ò—Ç–æ–≥–æ: 550 –ø—Ä–æ–≥—Ä–∞–º–º (500 —Ç–æ–ø–æ–≤—ã—Ö + 50 —Å–≤–æ–∏—Ö)
```

---

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Database connection failed"

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env.local`:

```env
DATABASE_URL="postgresql://..."
DIRECT_URL="postgresql://..."
```

### –û—à–∏–±–∫–∞: "File not found"

–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:

```bash
npm run db:import ./scripts/batches/my-file.json
```

### –û—à–∏–±–∫–∞: "Network not found"

–°–µ—Ç—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏–º–ø–æ—Ä—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ –Ω–µ—ë.

---

## üìù Changelog

### v1.0.0 (2025-11-19)

- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω –ø–∞–∫–µ—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–∞–º–º
- ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–µ–π –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- ‚ú® –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π
- ‚ú® –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
