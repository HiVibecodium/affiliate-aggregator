# üß™ –û—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π" –∏ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"

## ‚úÖ –°—Ç–∞—Ç—É—Å: –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:

#### 1. Build –ø—Ä–æ—Ü–µ—Å—Å

```
‚úÖ /settings/team          - 3.72 kB (—Å–æ–±—Ä–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ)
‚úÖ /settings/organization  - 3.25 kB (—Å–æ–±—Ä–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ)
```

#### 2. HTTP —Å—Ç–∞—Ç—É—Å

```
‚úÖ /settings/team         ‚Üí 307 Redirect to /login
‚úÖ /settings/organization ‚Üí 307 Redirect to /login
```

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ!** –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã middleware –∏ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### üîí –ü–æ—á–µ–º—É —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login?

–û–±–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:

```typescript
// app/settings/team/page.tsx
const { currentOrgId } = useOrganization();

// app/settings/organization/page.tsx
const { currentOrgId } = useOrganization();
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º

### ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç:

#### –®–∞–≥ 1: –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è

```
https://affiliate-aggregator-five.vercel.app/login
```

#### –®–∞–≥ 2: –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç—å:

```
/settings/team         - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π
/settings/organization - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
```

### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞:

#### ‚úÖ TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è

```bash
npx tsc --noEmit
# Result: 0 errors
```

#### ‚úÖ ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
npm run lint
# app/settings/team/page.tsx - 0 errors
# app/settings/organization/page.tsx - 0 errors
```

#### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü:

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π (/settings/team):**

- ‚úÖ –°–ø–∏—Å–æ–∫ —á–ª–µ–Ω–æ–≤ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (/settings/organization):**

- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ slug
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –í–µ–±-—Å–∞–π—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### üéØ –í—ã–≤–æ–¥:

**–°—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–µ!**

–†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login - —ç—Ç–æ **–∑–∞—â–∏—Ç–∞**, –∞ –Ω–µ –æ—à–∏–±–∫–∞. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### üîê Security features:

1. ‚úÖ Middleware –∑–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. ‚úÖ Organization context —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. ‚úÖ RBAC –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
4. ‚úÖ CSRF –∑–∞—â–∏—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-11-19  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
